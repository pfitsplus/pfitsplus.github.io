---
title: "Code Comparison"
permalink: /research/code-comparison/
---
## Streaming Instability

The [streaming instability](/research/fluid-dynamics/#streaming-si) is a promising mechanism within [protoplanetary disks](/research/protoplanetary-disks/) to drive [planetesimal formation](/research/planet-formation/#planetesimal-formation) from mm- to cm-sized pebbles which result from [dust coagulation](/research/planet-formation/#dust-coagulation).
Since its discovery by [Youdin](/team/youdin-andrew/) & Goodman ([2005](https://ui.adsabs.harvard.edu/abs/2005ApJ...620..459Y/abstract){:target="_blank"}), several [hydrodynamics codes](/research/#software-development) have explored the parameters, non-linear properties, and implications of this aerodynamic instability that requires [feedback between dust and gas momenta](/research/fluid-dynamics/#dustgas-dynamics).
However, the non-trivial differences between numerical techniques (e.g., finite difference or finite volume) and dust modeling (e.g., as a pressureless fluid or as Lagrangian particles) can make it difficult to disentangle unique scientific results from the potential idiosyncrasies of a particular code or implementation.
In an effort to address these issues, we are leading a comprehensive comparison of various multipurpose codes across some of the key models and problems previously studied in investigations into the streaming instability.


### [<i class='fa-solid fa-file-pdf'></i>](/assets/docs/research/code-comparison/si/sicc_problem_set.pdf){:target="_blank"} [Problem Set](/assets/docs/research/code-comparison/si/sicc_problem_set.pdf){:target="_blank"}

We invite users and developers of hydrodynamical codes who wish to contribute to this project to review the Streaming Instability Code Comparison Problem Set ([PDF](/assets/docs/research/code-comparison/si/sicc_problem_set.pdf){:target="_blank"}).
As this document continues to be developed, including the addition of new problems in future revisions, please contact [Stanley A. Baronett](/team/baronett-stanley/) with any questions or feedback that may be helpful toward future revisions.


### [<i class='fab fa-fw fa-github'></i>](https://github.com/pfitsplus/sicc){:target="_blank"} [GitHub Repository](https://github.com/pfitsplus/sicc){:target="_blank"}

Figure scripts and source codes related to this project can be found in our [__pfitsplus/sicc__](https://github.com/pfitsplus/sicc) GitHub repository.
[Jupyter Notebooks](https://jupyter.org/) containing [Python](https://www.python.org/) scripts to generate the figures [below](#preliminary-figures) and in our forthcoming manuscript can be found in the [`/ipynb`](https://github.com/pfitsplus/sicc/tree/main/ipynb) directory.
Source and input files for some contributing codes can be found in the [`/source_files`](https://github.com/pfitsplus/sicc/tree/main/source_files) directory.
To be consistent with the structure of the [Problem Set](#problem-set) (Section 1.2), the subdirectories therein are hierarchically organized first by *model*, next by *problem*, next by *variation*, and last by *code*.
For more information, please see the repository [README](https://github.com/pfitsplus/sicc/blob/main/README.md), and feel free to [create an issue](https://github.com/pfitsplus/sicc/issues) for any questions, feedback, or issues encountered.


### [<i class='fab fa-fw fa-google-drive'></i>](https://drive.google.com/drive/folders/14GiJq2lyPePPaCrZzzELsCou5rLTza0v?usp=sharing){:target="_blank"}  [Google Shared Drive](https://drive.google.com/drive/folders/14GiJq2lyPePPaCrZzzELsCou5rLTza0v?usp=sharing){:target="_blank"}

The problem data outputted by contributing codes should be uploaded to our designated [Google Shared Drive](https://drive.google.com/drive/u/1/folders/14GiJq2lyPePPaCrZzzELsCou5rLTza0v).
Anyone with the link can view and comment on the contents, but please contact [Stanley A. Baronett](/team/baronett-stanley/) to request access to add files.
To be consistent with the structure of the [Problem Set](#problem-set) (Section 1.2), the subdirectories therein are hierarchically organized first by *model*, next by *problem*, next by *variation*, and last by *code*.
Regardless of the inherent data format normally generated by a contributing code, all requested output (e.g., arrays) must be stored in or converted to individual compressed [NumPy](https://numpy.org/doc/stable/index.html) `.npz` files (see the [official "Input and output" documentation](https://numpy.org/doc/stable/reference/routines.io.html) for details).
Further details on the structure and contents of submission data can be found in Section 1.1.2 of the [Problem Set](#problem-set).


### Preliminary Figures

#### Lagrangian dust particles

![A grid of dust density snapshots at various simulation times from different Lagrangian-dust codes for Problem BA with an average of one particle per gas grid cell at 512x512 resolution.](/assets/images/research/code-comparison/si/BA-np1-512_snapshots.png)
A series of snapshots of the dust density field from various Lagrangian-dust codes for Problem BA with an average of one particle per gas cell, i.e. $$n_\mathrm{p} = 1$$, at a grid resolution of $$512 \times 512$$ (see Section 2.2.1 of the [Problem Set](#problem-set)).
Increasing from top to bottom, each row corresponds to the simulation time $$t_\mathrm{sim}$$ in units of the local orbital period $$T$$, as labeled along the left margin.
In alphabetical order from left to right, each column corresponds to a different code, as labeled along the top row of snapshots.
The color-bar scale in the bottom right indicates the dust density $$\rho_\mathrm{p}$$ in units of the initially uniform gas density $$\rho_\mathrm{g,0}$$.
Radial $$x$$ and vertical $$z$$ coordinates are in units of the vertical gas scale height $$H_\mathrm{g}$$.

![TO DO](/assets/images/research/code-comparison/si/BA-np1-512_time_series.png)
Maximum dust density as a function of time for codes implementing Lagrangian particles.
Line colours represent different codes.
Densities are normalised to the initially uniform gas density $$\rho_\mathrm{g,0}$$.

![TO DO](/assets/images/research/code-comparison/si/BA-np1-512_CDF.png)
Time-averaged cumulative distribution functions for the dust density for codes implementing Lagrangian particles.
Solid lines represent the time-averaged densities, shaded areas represent the $$1\sigma$$ time variability, and different colours represent different codes.


#### Pressureless dust fluid

![A grid of dust density snapshots at various simulation times from different fluid-dust codes for Problem BA with an average of one particle per gas grid cell at 512x512 resolution.](/assets/images/research/code-comparison/si/BA-fluid-512_snapshots.png)
A series of snapshots of the dust density field from various fluid-dust codes for Problem BA at a grid resolution of $$512 \times 512$$ (see Section 2.2.1 of the [Problem Set](#problem-set)).
Increasing from top to bottom, each row corresponds to the simulation time $$t_\mathrm{sim}$$ in units of the local orbital period $$T$$, as labeled along the left margin.
In alphabetical order from left to right, each column corresponds to a different code, as labeled along the top row of snapshots.
The color-bar scale in the bottom right indicates the dust density $$\rho_\mathrm{p}$$ in units of the initially uniform gas density $$\rho_\mathrm{g,0}$$.
Radial $$x$$ and vertical $$z$$ coordinates are in units of the vertical gas scale height $$H_\mathrm{g}$$.

![FINISH.](/assets/images/research/code-comparison/si/BA--512_time_series.png)
Maximum dust density as a function of time for codes implementing a pressureless fluid.
Line colours represent different codes.
Densities are normalised to the initially uniform gas density $$\rho_\mathrm{g,0}$$.

![TO DO](/assets/images/research/code-comparison/si/BA--512_CDF.png)
Time-averaged cumulative distribution functions for the dust density for codes implementing Lagrangian particles.
Solid lines represent the time-averaged densities, shaded areas represent the $$1\sigma$$ time variability, and different colours represent different codes.
